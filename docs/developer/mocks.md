To regenerate the mockClient, the following steps are necessary when using mockery 2.x. This is a bit complicated, due to some historical contexts (feel free to fix and make mocking easier).

Install mockery: https://vektra.github.io/mockery/latest/installation/

## Create

Create `pkg/mockhelper`. Add following file there:

```go
package mockhelper

import (
	"net/http"

	client "sigs.k8s.io/controller-runtime/pkg/client"
)

type Client interface {
	client.Client
}

type HttpClient interface {
	http.Client
}
```

Create `.mockery.yaml`:

```
quiet: False
disable-version-string: True
with-expecter: True
mockname: "{{.InterfaceName}}"
filename: "{{.MockName}}.go"
outpkg: mocks
packages:
  github.com/k8ssandra/cass-operator/pkg/mockhelper:
    interfaces:
      Client:
        config:
      HttpClient:
        config:
      # TypesPackage:
```

Copy generated files to `pkg/mocks` and modify. Remove from controller-runtime client (`Client.go`):

```
// Client is an autogenerated mock type for the Client type
type Client struct {
	mock.Mock
}
````

Comment out methods: `NewClient()`, `SubResource(subResource string)` and `Status()`. All of these are already separately created in `mocks/helper.go`, since we want to modify the behavior of certain Status checks in our test code.